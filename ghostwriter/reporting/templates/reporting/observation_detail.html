{% extends "base_generic.html" %}

{% load bleach_tags %}

{% block pagetitle %}{{ observation.title }} Details{% endblock %}

{% block breadcrumbs %}
  <nav aria-label="breadcrumb">
    <ul class="breadcrumb">
      <li class="breadcrumb-item"><a href="{% url 'home:dashboard' %}">Dashboard</a></li>
      <li class="breadcrumb-item"><a href="{% url 'reporting:observations' %}">Observations</a></li>
      <li class="breadcrumb-item active" aria-current="page">{{ observation.title }}</li>
    </ul>
  </nav>
{% endblock %}

{% block content %}
  <div class="dropdown">
    <div class="dropdown-menu-btn" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"
        onclick="hamburger(this)">
      <div class="bar1"></div>
      <div class="bar2"></div>
      <div class="bar3"></div>
    </div>
    <div class="dropdown-menu dropdown-menu-right" aria-labelledby="observation-dropdown-btn">
      <a class="dropdown-item icon edit-icon" href="{% url 'reporting:observation_update' observation.id %}">Edit</a>
      <a class="dropdown-item icon back-arrow-icon" href="{% url 'reporting:observations' %}">Return to Observations</a>
      <a class="dropdown-item icon trash-icon" href="{% url 'reporting:observation_delete' observation.id %}">Delete</a>
    </div>
  </div>

  <div class="container">
    <h2>{{ observation.title }}</h2>
  </div>

  <div id="descriptionCard" class="card mb-3">
    <div class="card-header observation-header icon writing-icon">
      Description
    </div>
    <div class="card-body observation-content">
      {% if observation.description %}
        {{ observation.description|bleach }}
      {% else %}
        <p>Description write-up is needed.</p>
      {% endif %}
    </div>
  </div>
{% endblock %}

{% block morescripts %}
  {% comment %} Include the reusable delete confirmation modal and related scripts {% endcomment %}
  {% include "confirm_delete_modal.html" %}
{% endblock %}
